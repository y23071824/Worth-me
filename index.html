
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>值得我 我值得</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .calendar { display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px; margin-top: 20px; }
    .day {
      padding: 10px;
      border: 1px solid #ccc;
      text-align: center;
      border-radius: 8px;
      background-color: white;
      cursor: pointer;
      position: relative;
    }
    .day:hover { background-color: #fce4ec; }
    .dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      position: absolute;
      bottom: 5px;
      left: 50%;
      transform: translateX(-50%);
    }
    .summary {
      font-size: 14px;
      color: #555;
      margin-top: 4px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
  </style>
</head>
<body>
  <h1>值得我 我值得</h1>
  <h2>2025年5月</h2>
  <div class="calendar" id="calendar"></div>

  <script>
    const calendar = document.getElementById('calendar');
    for (let d = 1; d <= 31; d++) {
      const day = d.toString().padStart(2, '0');
      const key = `2025-05-${day}`;
      const saved = JSON.parse(localStorage.getItem(key) || '{}');
      const div = document.createElement('a');
      div.className = 'day';
      div.href = `daily.html?date=${key}`;
      div.innerHTML = day;

      if (saved.emotionColor) {
        const dot = document.createElement('div');
        dot.className = 'dot';
        dot.style.backgroundColor = saved.emotionColor;
        div.appendChild(dot);
      }

      if (saved.text) {
        const summary = document.createElement('div');
        summary.className = 'summary';
        summary.textContent = saved.text.slice(0, 20);
        div.appendChild(summary);
      }

      calendar.appendChild(div);
    }
  </script>
</body>
</html>
